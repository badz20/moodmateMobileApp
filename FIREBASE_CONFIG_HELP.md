# Firebase Configuration Guide

## Option 1: Manual Setup (Recommended if FlutterFire CLI has issues)

### Step 1: Create Firebase Project

1. Go to [Firebase Console](https://console.firebase.google.com/)
2. Click "Add project" or select existing project
3. Name it "moodmate" (or choose existing)
4. Complete the setup wizard

### Step 2: Add Android App

1. In Firebase Console, click the Android icon
2. **Android package name:** `com.example.moodmate`
3. Click "Register app"
4. Download `google-services.json`
5. Place file in: `android/app/google-services.json`
6. Add to `android/build.gradle` (in dependencies):
   ```gradle
   classpath 'com.google.gms:google-services:4.4.0'
   ```
7. Add to `android/app/build.gradle` (at bottom):
   ```gradle
   apply plugin: 'com.google.gms.google-services'
   ```

### Step 3: Add Web App

1. In Firebase Console, click the Web icon (</>)
2. App nickname: "moodmate-web"
3. Click "Register app"
4. Copy the Firebase configuration object
5. Create `lib/firebase_options.dart` with this content:

```dart
// File generated by FlutterFire CLI.
import 'package:firebase_core/firebase_core.dart' show FirebaseOptions;
import 'package:flutter/foundation.dart'
    show defaultTargetPlatform, kIsWeb, TargetPlatform;

class DefaultFirebaseOptions {
  static FirebaseOptions get currentPlatform {
    if (kIsWeb) {
      return web;
    }
    switch (defaultTargetPlatform) {
      case TargetPlatform.android:
        return android;
      case TargetPlatform.iOS:
        return ios;
      case TargetPlatform.macOS:
        return macos;
      case TargetPlatform.windows:
        throw UnsupportedError(
          'DefaultFirebaseOptions have not been configured for windows - '
          'you can reconfigure this by running the FlutterFire CLI again.',
        );
      case TargetPlatform.linux:
        throw UnsupportedError(
          'DefaultFirebaseOptions have not been configured for linux - '
          'you can reconfigure this by running the FlutterFire CLI again.',
        );
      default:
        throw UnsupportedError(
          'DefaultFirebaseOptions are not supported for this platform.',
        );
    }
  }

  static const FirebaseOptions web = FirebaseOptions(
    apiKey: 'YOUR_WEB_API_KEY',
    appId: 'YOUR_WEB_APP_ID',
    messagingSenderId: 'YOUR_MESSAGING_SENDER_ID',
    projectId: 'YOUR_PROJECT_ID',
    authDomain: 'YOUR_PROJECT_ID.firebaseapp.com',
    storageBucket: 'YOUR_PROJECT_ID.appspot.com',
  );

  static const FirebaseOptions android = FirebaseOptions(
    apiKey: 'YOUR_ANDROID_API_KEY',
    appId: 'YOUR_ANDROID_APP_ID',
    messagingSenderId: 'YOUR_MESSAGING_SENDER_ID',
    projectId: 'YOUR_PROJECT_ID',
    storageBucket: 'YOUR_PROJECT_ID.appspot.com',
  );

  static const FirebaseOptions ios = FirebaseOptions(
    apiKey: 'YOUR_IOS_API_KEY',
    appId: 'YOUR_IOS_APP_ID',
    messagingSenderId: 'YOUR_MESSAGING_SENDER_ID',
    projectId: 'YOUR_PROJECT_ID',
    storageBucket: 'YOUR_PROJECT_ID.appspot.com',
    iosBundleId: 'com.example.moodmate',
  );

  static const FirebaseOptions macos = FirebaseOptions(
    apiKey: 'YOUR_MACOS_API_KEY',
    appId: 'YOUR_MACOS_APP_ID',
    messagingSenderId: 'YOUR_MESSAGING_SENDER_ID',
    projectId: 'YOUR_PROJECT_ID',
    storageBucket: 'YOUR_PROJECT_ID.appspot.com',
    iosBundleId: 'com.example.moodmate',
  );
}
```

6. Replace all `YOUR_*` values with actual values from Firebase Console

### Step 4: Update main.dart

Update your Firebase initialization in `lib/main.dart`:

```dart
import 'package:firebase_core/firebase_core.dart';
import 'firebase_options.dart';

void main() async {
  WidgetsFlutterBinding.ensureInitialized();

  await Firebase.initializeApp(
    options: DefaultFirebaseOptions.currentPlatform,
  );

  runApp(const MyApp());
}
```

### Step 5: Enable Authentication

1. In Firebase Console → Authentication
2. Click "Get started"
3. Enable "Email/Password" sign-in method
4. Click "Save"

### Step 6: Create Firestore Database

1. In Firebase Console → Firestore Database
2. Click "Create database"
3. Select "Start in test mode"
4. Choose your region
5. Click "Enable"

### Step 7: Test the App

```bash
flutter run -d chrome
```

---

## Option 2: Troubleshoot FlutterFire CLI

If you want to use FlutterFire CLI, try these steps:

1. **Update Firebase CLI:**

   ```bash
   npm install -g firebase-tools@latest
   ```

2. **Logout and login again:**

   ```bash
   firebase logout
   firebase login
   ```

3. **Create project via CLI:**

   ```bash
   firebase projects:create moodmate-app
   ```

4. **Run FlutterFire configure:**
   ```bash
   flutterfire configure --project=moodmate-app
   ```

---

## Quick Start (Web Only)

For the fastest setup to test the app, configure Web only:

1. Create Firebase project at https://console.firebase.google.com/
2. Add Web app and copy config
3. Create `lib/firebase_options.dart` with web config only
4. Enable Email/Password authentication
5. Create Firestore database
6. Run: `flutter run -d chrome`

---

## Current Issue

The FlutterFire CLI is having trouble creating apps in your Firebase project. This could be due to:

- Permissions issues
- Firebase project limits
- API not enabled

**Recommended:** Follow the **Manual Setup** steps above for the most reliable configuration.
